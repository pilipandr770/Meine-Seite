{% extends "base.html" %}

{% block content %}
    <h1>–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –Ω–∞ ROZOOM ‚Äì –ø—Ä–æ–≤—ñ–¥–Ω—É –∫–æ–º–ø–∞–Ω—ñ—é —ñ–Ω–Ω–æ–≤–∞—Ü—ñ–π–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å!</h1>

    <p>üöÄ –ú–∏ –¥–æ–ø–æ–º–∞–≥–∞—î–º–æ –±—ñ–∑–Ω–µ—Å—É –≤–ø—Ä–æ–≤–∞–¥–∂—É–≤–∞—Ç–∏ —Å—É—á–∞—Å–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó, —â–æ —Ä–æ–±–ª—è—Ç—å –π–æ–≥–æ –µ—Ñ–µ–∫—Ç–∏–≤–Ω—ñ—à–∏–º, –ø—Ä–∏–±—É—Ç–∫–æ–≤—ñ—à–∏–º —ñ —à–≤–∏–¥—à–∏–º.
    –ù–∞—à—ñ —Ä—ñ—à–µ–Ω–Ω—è –æ–ø—Ç–∏–º—ñ–∑—É—é—Ç—å –≤–∏—Ç—Ä–∞—Ç–∏, –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å –≤–∞—à —á–∞—Å —ñ –ø—Ä–∞—Ü—é—é—Ç—å –∫—Ä–∞—â–µ –∑–∞ –∫–æ–Ω–∫—É—Ä–µ–Ω—Ç—ñ–≤.</p>

    <p><strong>–í–∏ –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º—É —à–ª—è—Ö—É!</strong>
    –Ø–∫—â–æ –≤–∏ —à—É–∫–∞—î—Ç–µ –Ω–∞–¥—ñ–π–Ω–æ–≥–æ IT-–ø–∞—Ä—Ç–Ω–µ—Ä–∞ ‚Äì –≤–∏ –π–æ–≥–æ –∑–Ω–∞–π—à–ª–∏.</p>

    <h2>–©–æ –º–∏ –ø—Ä–æ–ø–æ–Ω—É—î–º–æ?</h2>
    <ul>
        <li>–°—Ç–≤–æ—Ä–µ–Ω–Ω—è <strong>–≤–µ–±-—Å–∞–π—Ç—ñ–≤</strong> —Ç–∞ <strong>—Ü–∏—Ñ—Ä–æ–≤–∏—Ö –ø—Ä–æ–¥—É–∫—Ç—ñ–≤</strong>, —â–æ –ø—Ä–∏–Ω–æ—Å—è—Ç—å –ø—Ä–∏–±—É—Ç–æ–∫</li>
        <li>–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è <strong>—Ä—É—Ç–∏–Ω–Ω–∏—Ö –ø—Ä–æ—Ü–µ—Å—ñ–≤</strong> –¥–ª—è –µ–∫–æ–Ω–æ–º—ñ—ó —Ä–µ—Å—É—Ä—Å—ñ–≤</li>
        <li>–†–æ–∑—Ä–æ–±–∫–∞ <strong>AI-–±–æ—Ç—ñ–≤</strong> –¥–ª—è –∫–æ–º—É–Ω—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –æ–±—Ä–æ–±–∫–∏ –∑–∞–ø–∏—Ç—ñ–≤</li>
        <li>–í–ø—Ä–æ–≤–∞–¥–∂–µ–Ω–Ω—è <strong>—à—Ç—É—á–Ω–æ–≥–æ —ñ–Ω—Ç–µ–ª–µ–∫—Ç—É</strong> —É –±—ñ–∑–Ω–µ—Å –¥–ª—è —Ä–æ–∑—É–º–Ω–∏—Ö —Ä—ñ—à–µ–Ω—å</li>
        <li><strong>–ú–µ–¥—ñ–∞–±–∞—ó–Ω–≥</strong> —Ç–∞ –ø—Ä–æ—Å—É–≤–∞–Ω–Ω—è –¥–ª—è –∑–±—ñ–ª—å—à–µ–Ω–Ω—è –≤–∞—à–æ—ó –∞—É–¥–∏—Ç–æ—Ä—ñ—ó</li>
        <li>–ü—Ä–æ–µ–∫—Ç—É–≤–∞–Ω–Ω—è —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—è <strong>–±–∞–∑ –¥–∞–Ω–∏—Ö</strong></li>
    </ul>

    <h2>–ß–æ–º—É –≤–∞—Ä—Ç–æ –æ–±—Ä–∞—Ç–∏ —Å–∞–º–µ –Ω–∞—Å?</h2>
    <ul>
        <li><strong>–¢–µ—Ö–Ω–æ–ª–æ–≥—ñ—á–Ω–µ –ª—ñ–¥–µ—Ä—Å—Ç–≤–æ</strong> ‚Äì –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î–º–æ –Ω–∞–π–∫—Ä–∞—â—ñ —ñ–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏ –¥–ª—è —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—ó –≤–∞—à–∏—Ö —ñ–¥–µ–π</li>
        <li><strong>–ì–Ω—É—á–∫—ñ—Å—Ç—å</strong> ‚Äì –∞–¥–∞–ø—Ç—É—î–º–æ—Å—è –ø—ñ–¥ –≤–∞—à—ñ –ø–æ—Ç—Ä–µ–±–∏ —Ç–∞ –º–∞—Å—à—Ç–∞–±—É—î–º–æ —Ä—ñ—à–µ–Ω–Ω—è</li>
        <li><strong>–®–≤–∏–¥–∫—ñ—Å—Ç—å —Ç–∞ —è–∫—ñ—Å—Ç—å</strong> ‚Äì –±–µ–∑ –ø–æ—Å–µ—Ä–µ–¥–Ω–∏–∫—ñ–≤, –±–µ–∑ –∑–∞–π–≤–∏—Ö –≤–∏—Ç—Ä–∞—Ç, —Ç—ñ–ª—å–∫–∏ –µ—Ñ–µ–∫—Ç–∏–≤–Ω–∞ —Ä–æ–±–æ—Ç–∞</li>
        <li><strong>–í–µ–ª–∏–∫–∞ –∫–æ–º–∞–Ω–¥–∞ –µ–∫—Å–ø–µ—Ä—Ç—ñ–≤</strong> ‚Äì –¥–æ—Å–≤—ñ–¥—á–µ–Ω—ñ –ø—Ä–æ–≥—Ä–∞–º—ñ—Å—Ç–∏ —Ç–∞ –∞–Ω–∞–ª—ñ—Ç–∏–∫–∏ –Ω–∞ –∞—É—Ç—Å–æ—Ä—Å—ñ –≥–æ—Ç–æ–≤—ñ –¥–æ–ª—É—á–∏—Ç–∏—Å—è –¥–æ –ø—Ä–æ—î–∫—Ç—É –±—É–¥—å-—è–∫–æ—ó —Å–∫–ª–∞–¥–Ω–æ—Å—Ç—ñ</li>
    </ul>

    <h2>–ß–∞—Ç-–∞—Å–∏—Å—Ç–µ–Ω—Ç –Ω–∞ –∫–æ–∂–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ</h2>
    <p>üí¨ –î–ª—è –≤–∞—à–æ—ó –∑—Ä—É—á–Ω–æ—Å—Ç—ñ –Ω–∞ –∫–æ–∂–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ —Å–∞–π—Ç—É —î <strong>—Ä–æ–∑—É–º–Ω–∏–π —á–∞—Ç-–∞—Å–∏—Å—Ç–µ–Ω—Ç</strong>, —è–∫–∏–π –¥–æ–ø–æ–º–æ–∂–µ –≤–∞–º:</p>
    <ul>
        <li>–†–æ–∑—ñ–±—Ä–∞—Ç–∏—Å—è –≤ –ø–æ—Å–ª—É–≥–∞—Ö —Ç–∞ –ø—ñ–¥—ñ–±—Ä–∞—Ç–∏ –Ω–∞–π–∫—Ä–∞—â–µ —Ä—ñ—à–µ–Ω–Ω—è</li>
        <li>–°—Ñ–æ—Ä–º—É–≤–∞—Ç–∏ <strong>—Ç–µ—Ö–Ω—ñ—á–Ω–µ –∑–∞–≤–¥–∞–Ω–Ω—è (–¢–ó)</strong> –¥–ª—è —à–≤–∏–¥–∫–æ–≥–æ –∑–∞–ø—É—Å–∫—É –ø—Ä–æ—î–∫—Ç—É</li>
        <li>–û—Ç—Ä–∏–º–∞—Ç–∏ <strong>–µ–∫—Å–ø–µ—Ä—Ç–Ω—ñ –ø–æ—Ä–∞–¥–∏</strong> —â–æ–¥–æ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ–π —Ç–∞ –æ–ø—Ç–∏–º—ñ–∑–∞—Ü—ñ—ó –ø—Ä–æ—Ü–µ—Å—ñ–≤</li>
    </ul>

    <p>üë®‚Äçüíª <strong>ROZOOM</strong> –∑–∞—Å–Ω–æ–≤–∞–Ω–∞ –ê–Ω–¥—Ä—ñ—î–º –ü–∏–ª–∏–ø—á—É–∫–æ–º ‚Äì –ø—Ä–æ—Ñ–µ—Å—ñ–æ–Ω–∞–ª–æ–º —ñ–∑ –±–∞–≥–∞—Ç–æ—Ä—ñ—á–Ω–∏–º –¥–æ—Å–≤—ñ–¥–æ–º —É IT —Ç–∞ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—ó –±—ñ–∑–Ω–µ—Å—É.
    –ú–∏ –ø—Ä–∞—Ü—é—î–º–æ –∑ –∫–ª—ñ—î–Ω—Ç–∞–º–∏ –ø–æ –≤—Å—å–æ–º—É —Å–≤—ñ—Ç—É, –¥–æ–ø–æ–º–∞–≥–∞—é—á–∏ —ó–º <strong>–æ–ø—Ç–∏–º—ñ–∑—É–≤–∞—Ç–∏ –ø—Ä–æ—Ü–µ—Å–∏, –≤–ø—Ä–æ–≤–∞–¥–∂—É–≤–∞—Ç–∏ —ñ–Ω–Ω–æ–≤–∞—Ü—ñ—ó —Ç–∞ –¥–æ—Å—è–≥–∞—Ç–∏ —É—Å–ø—ñ—Ö—É</strong>.</p>

    <h2>–û–±—Ä–∞—Ç–∏ –Ω–∞–ø—Ä—è–º–æ–∫ —Ä–æ–±–æ—Ç–∏:</h2>
    <div class="services-grid">
        <a href="/web-dev" class="service-button">–í–µ–±-—Ä–æ–∑—Ä–æ–±–∫–∞</a>
        <a href="/chatbots" class="service-button">–†–æ–∑—Ä–æ–±–∫–∞ –±–æ—Ç—ñ–≤</a>
        <a href="/automation" class="service-button">–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü—ñ—è</a>
        <a href="/ai-ml" class="service-button">AI —Ç–∞ ML</a>
        <a href="/media-buying" class="service-button">–ú–µ–¥—ñ–∞–±–∞—ó–Ω–≥</a>
        <a href="/databases" class="service-button">–ë–∞–∑–∏ –¥–∞–Ω–∏—Ö</a>
    </div>

    <hr>

    <div class="chat-container home-chat-container">
        <h3>–í–∞—à –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏–π –∞—Å–∏—Å—Ç–µ–Ω—Ç</h3>
        <div class="messages" id="messages"></div>
        <div class="input-container">
            <input type="text" id="userInput" placeholder="–í–≤–µ–¥—ñ—Ç—å –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è...">
            <button onclick="sendMessage()">–í—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏</button>
            <button id="recordButton">üé§</button>
        </div>
    </div>

    <script>
    document.addEventListener("DOMContentLoaded", function () {
        const userInput = document.getElementById("userInput");
        const messagesDiv = document.getElementById("messages");
        const recordButton = document.getElementById("recordButton");

        async function sendMessage() {
            if (!userInput.value.trim()) return;

            messagesDiv.innerHTML += `<p><strong>–í–∏:</strong> ${userInput.value}</p>`;
            const userMessage = userInput.value;
            userInput.value = "";

            try {
                const response = await fetch("/chatbot", {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ message: userMessage })
                });
                const data = await response.json();
                messagesDiv.innerHTML += `<p><strong>–ë–æ—Ç:</strong> ${data.response || "–ü–æ–º–∏–ª–∫–∞!"}</p>`;
            } catch (error) {
                messagesDiv.innerHTML += `<p><strong>–ü–æ–º–∏–ª–∫–∞:</strong> –ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å.</p>`;
            }

            messagesDiv.scrollTop = messagesDiv.scrollHeight;
        }

        let mediaRecorder;
        let audioChunks = [];

        recordButton.addEventListener("click", async () => {
            console.log("üé§ –ö–Ω–æ–ø–∫—É –Ω–∞—Ç–∏—Å–Ω—É—Ç–æ");

            // –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –¥–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—ñ –º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞
            if (!navigator.mediaDevices || !navigator.mediaDevices.getUserMedia) {
                alert("–í–∞—à –±—Ä–∞—É–∑–µ—Ä –Ω–µ –ø—ñ–¥—Ç—Ä–∏–º—É—î –¥–æ—Å—Ç—É–ø –¥–æ –º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞.");
                return;
            }

            try {
                const stream = await navigator.mediaDevices.getUserMedia({ audio: true });

                if (!mediaRecorder || mediaRecorder.state === "inactive") {
                    mediaRecorder = new MediaRecorder(stream);
                    audioChunks = [];

                    mediaRecorder.ondataavailable = event => {
                        audioChunks.push(event.data);
                    };

                    mediaRecorder.onstop = async () => {
                        const audioBlob = new Blob(audioChunks, { type: "audio/webm" });
                        const formData = new FormData();
                        formData.append("audio", audioBlob, "voice_message.webm");

                        messagesDiv.innerHTML += `<p><strong>–í–∏ (–≥–æ–ª–æ—Å):</strong> üé§ –û–±—Ä–æ–±–∫–∞...</p>`;

                        try {
                            const response = await fetch("/chatbot/voice", {
                                method: "POST",
                                body: formData
                            });

                            const data = await response.json();
                            if (data.error) {
                                messagesDiv.innerHTML += `<p><strong>–ü–æ–º–∏–ª–∫–∞:</strong> ${data.error}</p>`;
                            } else {
                                messagesDiv.innerHTML += `<p><strong>–í–∏ (–≥–æ–ª–æ—Å):</strong> ${data.transcription}</p>`;
                                messagesDiv.innerHTML += `<p><strong>–ë–æ—Ç:</strong> ${data.response}</p>`;
                            }
                        } catch (error) {
                            messagesDiv.innerHTML += `<p><strong>–ü–æ–º–∏–ª–∫–∞:</strong> –ù–µ –≤–¥–∞–ª–æ—Å—è –æ—Ç—Ä–∏–º–∞—Ç–∏ –≤—ñ–¥–ø–æ–≤—ñ–¥—å.</p>`;
                        }

                        messagesDiv.scrollTop = messagesDiv.scrollHeight;
                    };

                    mediaRecorder.start();
                    console.log("üéôÔ∏è –ó–∞–ø–∏—Å —Ä–æ–∑–ø–æ—á–∞—Ç–æ");
                    recordButton.textContent = "‚èπÔ∏è";
                } else {
                    mediaRecorder.stop();
                    console.log("üõë –ó–∞–ø–∏—Å –∑–∞–≤–µ—Ä—à–µ–Ω–æ");
                    recordButton.textContent = "üé§";
                }

            } catch (err) {
                console.error("‚ùå –î–æ—Å—Ç—É–ø –¥–æ –º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞ –∑–∞–±–æ—Ä–æ–Ω–µ–Ω–æ –∞–±–æ –ø–æ–º–∏–ª–∫–∞:", err);
                alert("‚ö†Ô∏è –í–∏ –Ω–µ –Ω–∞–¥–∞–ª–∏ –¥–æ—Å—Ç—É–ø –¥–æ –º—ñ–∫—Ä–æ—Ñ–æ–Ω–∞. –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å –Ω–∞ –∑–∞–º–æ–∫ –≤ –∞–¥—Ä–µ—Å–Ω–æ–º—É —Ä—è–¥–∫—É —Ç–∞ –¥–æ–∑–≤–æ–ª—ñ—Ç—å –¥–æ—Å—Ç—É–ø.");
            }
        });

        window.sendMessage = sendMessage;
    });
    </script>
{% endblock %}
