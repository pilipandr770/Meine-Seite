(function(g){var window=this;'use strict';var El=function(r,D){g.Z.call(this,{G:"button",hT:["ytp-miniplayer-expand-watch-page-button","ytp-button","ytp-miniplayer-button-top-left"],J:{title:"{{title}}","data-tooltip-target-id":"ytp-miniplayer-expand-watch-page-button","aria-keyshortcuts":"i","data-title-no-tooltip":"{{data-title-no-tooltip}}"},B:[{G:"svg",J:{height:"24px",version:"1.1",viewBox:"0 0 24 24",width:"24px"},B:[{G:"g",J:{fill:"none","fill-rule":"evenodd",stroke:"none","stroke-width":"1"},B:[{G:"g",J:{transform:"translate(12.000000, 12.000000) scale(-1, 1) translate(-12.000000, -12.000000) "},
B:[{G:"path",J:{d:"M19,19 L5,19 L5,5 L12,5 L12,3 L5,3 C3.89,3 3,3.9 3,5 L3,19 C3,20.1 3.89,21 5,21 L19,21 C20.1,21 21,20.1 21,19 L21,12 L19,12 L19,19 Z M14,3 L14,5 L17.59,5 L7.76,14.83 L9.17,16.24 L19,6.41 L19,10 L21,10 L21,3 L14,3 Z",fill:"#fff","fill-rule":"nonzero"}}]}]}]}]});this.C=r;this.listen("click",this.onClick,this);this.updateValue("title",g.iY(r,"\u0420\u043e\u0437\u0433\u043e\u0440\u043d\u0443\u0442\u0438","i"));this.update({"data-title-no-tooltip":"\u0420\u043e\u0437\u0433\u043e\u0440\u043d\u0443\u0442\u0438"});
this.addOnDisposeCallback(g.hI(D.SC(),this.element))},Vjr=function(r){g.Z.call(this,{G:"div",
U:"ytp-miniplayer-ui"});this.D=!1;this.player=r;this.X(r,"minimized",this.vB);this.X(r,"onStateChange",this.yWY);this.X(r,"documentpictureinpicturechange",this.sXI)},LZa=function(r,D){g.Fw(r.player.getRootNode(),"ytp-player-minimized",D)},T$a=function(r){g.uF.call(this,r);
this.T=new g.Cc(this);this.W=new Vjr(this.player);this.W.hide();g.NI(this.player,this.W.element,4);r.isMinimized()&&(this.load(),g.Fw(r.getRootNode(),"ytp-player-minimized",!0))};
g.U(El,g.Z);El.prototype.onClick=function(){this.C.KP("onExpandMiniplayer")};g.U(Vjr,g.Z);g.x=Vjr.prototype;
g.x.show=function(){this.W=new g.VO(this.nB,null,this);this.W.start();if(!this.D){this.tooltip=new g.tE(this.player,this);g.v(this,this.tooltip);g.NI(this.player,this.tooltip.element,4);this.tooltip.scale=.6;this.n0=new g.nJ(this.player);g.v(this,this.n0);this.progressBar=new g.bg(this.player,this);g.v(this,this.progressBar);g.NI(this.player,this.progressBar.element,4);this.T=new g.Z({G:"div",U:"ytp-miniplayer-scrim"});g.v(this,this.T);this.T.CP(this.element);this.X(this.T.element,"click",this.GK);
var r=new g.Z({G:"button",hT:["ytp-miniplayer-close-button","ytp-button"],J:{"aria-label":"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"},B:[g.iP()]});g.v(this,r);r.CP(this.T.element);this.X(r.element,"click",this.gy);r=new El(this.player,this);g.v(this,r);r.CP(this.T.element);this.L=new g.Z({G:"div",U:"ytp-miniplayer-controls"});g.v(this,this.L);this.L.CP(this.T.element);this.X(this.L.element,"click",this.GK);var D=new g.Z({G:"div",U:"ytp-miniplayer-button-container"});g.v(this,D);D.CP(this.L.element);
r=new g.Z({G:"div",U:"ytp-miniplayer-play-button-container"});g.v(this,r);r.CP(this.L.element);var Y=new g.Z({G:"div",U:"ytp-miniplayer-button-container"});g.v(this,Y);Y.CP(this.L.element);this.K=new g.z8(this.player,this,!1);g.v(this,this.K);this.K.CP(D.element);D=new g.RS(this.player,this);g.v(this,D);D.CP(r.element);this.nextButton=new g.z8(this.player,this,!0);g.v(this,this.nextButton);this.nextButton.CP(Y.element);this.N=new g.uI(this.player,this,0);g.v(this,this.N);this.N.CP(this.T.element);
this.S=new g.Z({G:"div",U:"ytp-miniplayer-buttons"});g.v(this,this.S);g.NI(this.player,this.S.element,4);r=new g.Z({G:"button",hT:["ytp-miniplayer-close-button","ytp-button"],J:{"aria-label":"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"},B:[g.iP()]});g.v(this,r);r.CP(this.S.element);this.X(r.element,"click",this.gy);r=new g.Z({G:"button",hT:["ytp-miniplayer-replay-button","ytp-button"],J:{"aria-label":"\u0417\u0430\u043a\u0440\u0438\u0442\u0438"},B:[g.zs()]});g.v(this,r);r.CP(this.S.element);this.X(r.element,
"click",this.AY$);r=new El(this.player,this);g.v(this,r);r.CP(this.S.element);this.X(this.player,"presentingplayerstatechange",this.V1);this.X(this.player,"appresize",this.QW);this.X(this.player,"fullscreentoggled",this.QW);this.QW();this.D=!0}this.player.getPlayerState()!==0&&g.Z.prototype.show.call(this);this.progressBar.show();this.player.unloadModule("annotations_module")};
g.x.hide=function(){this.W&&(this.W.dispose(),this.W=void 0);g.Z.prototype.hide.call(this);this.player.isMinimized()||(this.D&&this.progressBar.hide(),this.player.loadModule("annotations_module"))};
g.x.F2=function(){this.W&&(this.W.dispose(),this.W=void 0);g.Z.prototype.F2.call(this)};
g.x.gy=function(){this.player.V("kevlar_watch_while_v2")||this.player.stopVideo();this.player.KP("onCloseMiniplayer")};
g.x.AY$=function(){this.player.playVideo()};
g.x.GK=function(r){if(r.target===this.T.element||r.target===this.L.element)this.player.getPlayerStateObject().isOrWillBePlaying()?this.player.pauseVideo():this.player.playVideo()};
g.x.vB=function(){LZa(this,this.player.isMinimized())};
g.x.sXI=function(){LZa(this,this.player.yB());g.Fw(this.player.getRootNode(),"ytp-player-document-picture-in-picture",this.player.yB())};
g.x.Vf=function(){this.progressBar.Hs();this.N.Hs()};
g.x.nB=function(){this.Vf();this.W&&this.W.start()};
g.x.V1=function(r){g.X(r.state,32)&&this.tooltip.hide()};
g.x.QW=function(){var r=this.player.Rg().getPlayerSize().width;g.ghW(this.progressBar,0,r,!1);g.et(this.progressBar)};
g.x.yWY=function(r){this.player.isMinimized()&&(r===0?this.hide():this.show())};
g.x.SC=function(){return this.tooltip};
g.x.D1=function(r,D,Y,V,L){var T=0,I=0,B=0,m=g.lc(r);V=D&&(g.s3(D,"ytp-prev-button")||g.s3(D,"ytp-next-button"));if(D){Y=g.s3(D,"ytp-play-button");var G=g.s3(D,"ytp-miniplayer-expand-watch-page-button");V?T=B=12:Y?(D=g.J1(D,this.element),B=D.x,T=D.y-12):G&&(B=g.s3(D,"ytp-miniplayer-button-top-left"),T=g.J1(D,this.element),D=g.lc(D),B?(B=8,T=T.y+40):(B=T.x-m.width+D.width,T=T.y-20))}else B=Y-m.width/2,I=25+(L||0);D=this.player.Rg().getPlayerSize();L=T+(L||0);m=g.yN(B,0,D.width-m.width-12);L?(r.style.top=
L+"px",r.style.bottom=""):(r.style.top="",r.style.bottom=I+"px");r.style.left=m+"px";I=g.s3(r,"ytp-preview");r.style.visibility=V&&I&&D.height<225?"hidden":""};g.U(T$a,g.uF);g.x=T$a.prototype;g.x.onVideoDataChange=function(){if(this.player.getVideoData()){var r=this.player.getVideoAspectRatio(),D=16/9;r=r>D+.1||r<D-.1;g.Fw(this.player.getRootNode(),"ytp-rounded-miniplayer-not-regular-wide-video",r)}};
g.x.create=function(){g.uF.prototype.create.call(this);this.T.X(this.player,"videodatachange",this.onVideoDataChange);this.onVideoDataChange()};
g.x.aW=function(){return!1};
g.x.load=function(){this.player.hideControls();this.W.show()};
g.x.unload=function(){this.player.showControls();this.W.hide()};g.Fx("miniplayer",T$a);})(_yt_player);
