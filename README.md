# RoZoom Project Management System

Система управления проектами для веб-студии RoZoom.

## Особенности системы

- Отслеживание заказов и запросов от клиентов
- Преобразование запросов в проекты с этапами
- Интеграция с Telegram для уведомлений
- Управление API-ключами для внешних сервисов
- Docker-контейнеризация для разработки и продакшена
- Автоматическое развертывание на Render.com через Git

## Запуск приложения с использованием Docker

### Для разработки

1. Клонируйте репозиторий:
   ```bash
   git clone <repository-url>
   cd rozoom-project
   ```

2. Запустите контейнеры для разработки:
   ```bash
   docker-compose -f docker-compose-dev.yml up --build
   ```

   Приложение будет доступно по адресу http://localhost:5000

### Для продакшена

1. Запустите контейнеры для продакшена:
   ```bash
   docker-compose up --build
   ```

   Приложение будет доступно по адресу http://localhost:8000

## Структура проекта

- `app/` - основной код приложения
  - `models/` - модели данных
  - `routes/` - маршруты API и веб-страниц
  - `services/` - сервисы для работы с внешними API
  - `templates/` - шаблоны HTML
  - `static/` - статические файлы
- `docker/` - файлы для Docker-контейнеризации
- `tests/` - тесты приложения

## Модули системы

### Клиенты и заявки

Модуль для работы с клиентами и их запросами.

### Проекты

Модуль для управления проектами:
- Создание проектов из заявок клиентов
- Отслеживание стадий проекта
- Установка сроков и дедлайнов

### Telegram-интеграция

Автоматические уведомления в Telegram о новых заявках и изменениях в проектах.

## База данных

Система использует PostgreSQL с выделенной схемой `rozoom_schema`. Инициализация БД происходит автоматически через скрипты миграции.

## Развертывание на Render.com

### Настройка автоматического деплоя

1. Подключите репозиторий GitHub к Render.com через Dashboard
2. Выберите тип сервиса "Web Service"
3. В настройках укажите:
   - Build Command: `pip install -r requirements.txt`
   - Start Command: `gunicorn run:app`

### Необходимые переменные окружения на Render.com

В секции Environment Variables добавьте:
```
DATABASE_URL=ваша_строка_подключения_к_postgresql
POSTGRES_SCHEMA=rozoom_schema
FLASK_APP=run.py
FLASK_DEBUG=0
TELEGRAM_BOT_TOKEN=ваш_токен_бота
TELEGRAM_CHAT_ID=ваш_id_чата
OPENAI_API_KEY=ваш_ключ_openai
```

После коммита и пуша в репозиторий, Render автоматически запустит процесс развертывания.

## Переменные окружения

- `DATABASE_URL` - URL для подключения к базе данных
- `POSTGRES_SCHEMA` - Схема PostgreSQL (по умолчанию `rozoom_schema`)
- `FLASK_APP` - Путь к приложению Flask (обычно `run.py`)
- `FLASK_DEBUG` - Режим отладки (1 для разработки, 0 для продакшена)
- `TELEGRAM_BOT_TOKEN` - Токен Telegram бота для отправки уведомлений
- `TELEGRAM_CHAT_ID` - ID чата для отправки уведомлений в Telegram
- `OPENAI_API_KEY` - API ключ для интеграции с OpenAI
